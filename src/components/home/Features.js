import React from "react";
import { Box, Text, Heading, Image, Flex, Button } from "@chakra-ui/react";
import { Swiper, SwiperSlide } from "swiper/react";
import { Navigation } from "swiper/modules";
import "swiper/css";
import "swiper/swiper-bundle.css";
import { motion } from "framer-motion";
import { InView } from 'react-intersection-observer';

import featureOne from "../../assets/features/feature-1.png";
import featureTwo from "../../assets/features/feature-2.png";
import featureTree from "../../assets/features/feature-3.png";
import featureFour from "../../assets/features/feature-4.png";
import featureFive from "../../assets/features/feature-5.png";
import featureSix from "../../assets/features/feature-6.png";

const features = [
  {
    icon: <svg width="19" height="19" viewBox="0 0 19 19" fill="none">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M1.66666 0.666626C1.20642 0.666626 0.833328 1.03972 0.833328 1.49996C0.833328 1.9602 1.20642 2.33329 1.66666 2.33329H3.44392L5.00837 13.2845C5.06702 13.695 5.41862 14 5.83333 14H16.6667C17.1269 14 17.5 13.6269 17.5 13.1666C17.5 12.7064 17.1269 12.3333 16.6667 12.3333H6.55607L6.31798 10.6666H16.6667C17.0814 10.6666 17.433 10.3617 17.4916 9.95114L18.325 4.11781C18.3591 3.87866 18.2878 3.63646 18.1295 3.45396C17.9713 3.27146 17.7416 3.16663 17.5 3.16663H5.24655L4.99162 1.38211C4.93297 0.971568 4.58137 0.666626 4.16666 0.666626H1.66666ZM5.48465 4.83329L6.07988 8.99996H15.9439L16.5392 4.83329H5.48465ZM8.33333 16.5C8.33333 17.4204 7.58714 18.1666 6.66666 18.1666C5.74619 18.1666 4.99999 17.4204 4.99999 16.5C4.99999 15.5795 5.74619 14.8333 6.66666 14.8333C7.58714 14.8333 8.33333 15.5795 8.33333 16.5ZM15.8333 18.1666C16.7538 18.1666 17.5 17.4204 17.5 16.5C17.5 15.5795 16.7538 14.8333 15.8333 14.8333C14.9129 14.8333 14.1667 15.5795 14.1667 16.5C14.1667 17.4204 14.9129 18.1666 15.8333 18.1666Z"
        fill="#217A77"
      />
    </svg>,
    title: "products",
    desc: "shop carousels",
    image: featureOne,
    color: "#217A77",
    bg: "linear-gradient(163deg, rgba(172, 235, 233, 0.50) 11.54%, rgba(212, 211, 254, 0.50) 90.45%)"
  },
  {
    icon: <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M12.3332 10.6667C12.3332 11.5871 11.587 12.3333 10.6665 12.3333H2.33317C1.4127 12.3333 0.666504 11.5871 0.666504 10.6667V2.33333C0.666504 1.41286 1.4127 0.666664 2.33317 0.666664H10.6665C11.587 0.666664 12.3332 1.41286 12.3332 2.33333V10.6667ZM2.33317 10.6667L10.6665 10.6667V2.33333H2.33317V10.6667ZM17.3332 15.6667C17.3332 16.5871 16.587 17.3333 15.6665 17.3333H5.6665V15.6667H15.6665V5.66666H17.3332V15.6667ZM13.1665 14.8333C14.087 14.8333 14.8332 14.0871 14.8332 13.1667V3.16666H13.1665V13.1667H3.1665V14.8333H13.1665Z"
        fill="#C04343"
      />
    </svg>,
    title: "youtube, tiktok, spotify",
    desc: "content embeds",
    image: featureTwo,
    color: "#C04343",
    bg: "linear-gradient(161deg, rgba(253, 229, 187, 0.50) 12.73%, rgba(213, 160, 195, 0.50) 72.95%)"
  },
  {
    icon: <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M12.5201 1.94492C11.2548 0.276174 8.7461 0.276174 7.48077 1.94492C7.15426 2.37552 6.62084 2.59648 6.08547 2.52287C4.01077 2.23761 2.23688 4.01151 2.52214 6.08621C2.59575 6.62157 2.37479 7.155 1.94418 7.48151C0.275441 8.74683 0.275441 11.2555 1.94418 12.5208C2.37479 12.8473 2.59575 13.3808 2.52214 13.9161C2.23688 15.9908 4.01077 17.7647 6.08547 17.4795C6.62084 17.4059 7.15426 17.6268 7.48077 18.0574C8.7461 19.7262 11.2548 19.7262 12.5201 18.0574C12.8466 17.6268 13.38 17.4059 13.9154 17.4795C15.9901 17.7647 17.764 15.9908 17.4787 13.9161C17.4051 13.3808 17.6261 12.8473 18.0567 12.5208C19.7254 11.2555 19.7254 8.74683 18.0567 7.48151C17.6261 7.155 17.4051 6.62157 17.4787 6.08621C17.764 4.01151 15.9901 2.23761 13.9154 2.52287C13.38 2.59648 12.8466 2.37552 12.5201 1.94492ZM8.80883 2.95192C9.40723 2.16273 10.5936 2.16273 11.192 2.95192C11.8824 3.86244 13.0104 4.32965 14.1424 4.174C15.1236 4.0391 15.9625 4.87801 15.8276 5.85919C15.672 6.99122 16.1392 8.11915 17.0497 8.80956C17.8389 9.40796 17.8389 10.5944 17.0497 11.1928C16.1392 11.8832 15.672 13.0111 15.8276 14.1431C15.9625 15.1243 15.1236 15.9632 14.1424 15.8283C13.0104 15.6727 11.8824 16.1399 11.192 17.0504C10.5936 17.8396 9.40723 17.8396 8.80883 17.0504C8.11842 16.1399 6.99048 15.6727 5.85845 15.8283C4.87728 15.9632 4.03836 15.1243 4.17327 14.1431C4.32892 13.0111 3.86171 11.8832 2.95118 11.1928C2.162 10.5944 2.162 9.40796 2.95118 8.80956C3.86171 8.11915 4.32892 6.99121 4.17327 5.85919C4.03836 4.87801 4.87728 4.0391 5.85845 4.174C6.99048 4.32965 8.11842 3.86244 8.80883 2.95192ZM9.16675 4.16667V5.83333H8.95293C7.69031 5.83333 6.66675 6.85689 6.66675 8.11951C6.66675 9.10356 7.29643 9.97719 8.22997 10.2884L11.2431 11.2928C11.4961 11.3771 11.6667 11.6138 11.6667 11.8805C11.6667 12.2226 11.3894 12.5 11.0472 12.5H9.16675C8.70651 12.5 8.33341 12.1269 8.33341 11.6667H6.66675C6.66675 13.0474 7.78604 14.1667 9.16675 14.1667V15.8333H10.8334V14.1667H11.0472C12.3099 14.1667 13.3334 13.1431 13.3334 11.8805C13.3334 10.8964 12.7037 10.0228 11.7702 9.71162L8.75702 8.70724C8.50405 8.62291 8.33341 8.38617 8.33341 8.11951C8.33341 7.77737 8.61078 7.5 8.95293 7.5H10.8334C11.2937 7.5 11.6667 7.8731 11.6667 8.33333H13.3334C13.3334 6.95262 12.2141 5.83333 10.8334 5.83333V4.16667H9.16675Z"
        fill="#3B7D63"
      />
    </svg>,
    title: "payments",
    desc: "tips & paywalls",
    image: featureTree,
    color: "#3B7D63",
    bg: "linear-gradient(143deg, rgba(139, 247, 201, 0.50) -4.78%, rgba(208, 230, 165, 0.50) 99.04%)"
  },
  {
    icon: <svg width="19" height="19" viewBox="0 0 19 19" fill="none">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M7.66725 5.65519C8.98439 4.23155 9.7321 3.01814 10.15 2.16166L11.4999 3.51154C12.0797 4.09129 11.4999 5.66666 10.6669 6.4975L11.2559 7.08906L13.1667 5.17831L16.1548 8.16647L13.1667 11.1546L7.66725 5.65519ZM9.68281 0.0807943C9.99375 0.000186205 10.3962 0.0507572 10.6979 0.352466L17.7753 7.4299C18.1788 7.83342 18.186 8.49235 17.7759 8.90241L14.3451 12.3333L14.3453 12.3335L12.5286 14.1502C12.0126 14.6661 11.2245 14.794 10.5719 14.4677L9.64764 14.0056C8.86154 13.6125 7.91214 13.7666 7.29068 14.3881C7.1956 14.4831 7.11014 14.5874 7.03556 14.6993L5.74294 16.6382C5.56877 16.8994 5.36922 17.1429 5.14719 17.3649L5.00603 17.506C3.99024 18.5218 2.34331 18.5218 1.32752 17.506C0.311726 16.4903 0.311726 14.8433 1.32752 13.8275L1.46868 13.6864C1.69071 13.4643 1.93412 13.2648 2.19538 13.0906L4.13431 11.798C4.24618 11.7234 4.35042 11.638 4.4455 11.5429C5.06696 10.9214 5.22103 9.97202 4.82798 9.18593L4.36586 8.26169C4.03956 7.60909 4.16747 6.82092 4.68339 6.305L5.32171 5.66667L5.32153 5.66649L5.91074 5.07724C8.00931 2.97851 8.72328 1.36736 8.93598 0.762653C9.06741 0.389001 9.37539 0.160492 9.68281 0.0807943ZM5.8619 7.48351L6.50011 6.8453L11.9883 12.3335L11.3501 12.9717C11.3414 12.9803 11.3282 12.9825 11.3172 12.977L10.393 12.5149C8.96525 11.801 7.24089 12.0808 6.11217 13.2096C5.93948 13.3822 5.78427 13.5716 5.64881 13.7748L4.35619 15.7137C4.2429 15.8836 4.1131 16.042 3.96868 16.1864L3.82752 16.3275C3.4626 16.6925 2.87095 16.6925 2.50603 16.3275C2.14111 15.9626 2.14111 15.371 2.50603 15.006L2.64719 14.8649C2.79161 14.7205 2.94994 14.5907 3.11988 14.4774L5.05881 13.1848C5.262 13.0493 5.45132 12.8941 5.62401 12.7214C6.75274 11.5927 7.03256 9.86831 6.31869 8.44057L5.85657 7.51633C5.8511 7.50539 5.85325 7.49216 5.8619 7.48351Z"
        fill="#683973"
      />
    </svg>,
    title: "design",
    desc: "themes & accents",
    image: featureFour,
    color: "#683973",
    bg: "linear-gradient(163deg, rgba(255, 212, 252, 0.50) 11.54%, rgba(146, 195, 252, 0.50) 90.45%)"
  },
  {
    icon: <svg width="18" height="14" viewBox="0 0 18 14" fill="none">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M2.33378 9.70662L2.33378 12.1852H8.96721C8.57345 12.1679 8.25952 11.8432 8.25952 11.4452C8.25952 11.0361 8.59116 10.7044 9.00026 10.7044C9.40936 10.7044 9.741 11.0361 9.741 11.4452C9.741 11.8432 9.42708 12.1679 9.03332 12.1852H15.6671V9.70662C15.0645 9.36804 14.1856 8.58309 14.1856 7C14.1856 5.41691 15.0645 4.63196 15.6671 4.29338V1.81482L9.02361 1.81482C9.42191 1.82715 9.741 2.15391 9.741 2.5552C9.741 2.9643 9.40936 3.29594 9.00026 3.29594C8.59116 3.29594 8.25952 2.9643 8.25952 2.5552C8.25952 2.15391 8.57862 1.82715 8.97691 1.81482L2.33378 1.81482L2.33378 4.29338C2.93637 4.63196 3.81526 5.41691 3.81526 7C3.81526 8.58309 2.93637 9.36804 2.33378 9.70662ZM0.852295 12.1852L0.852295 9.5114C0.852295 8.9954 1.19143 8.61911 1.53947 8.45094C1.80017 8.32497 2.33378 7.97697 2.33378 7C2.33378 6.02304 1.80017 5.67504 1.53947 5.54907C1.19143 5.3809 0.852295 5.00461 0.852295 4.4886L0.852295 1.81482C0.852295 0.996618 1.51558 0.333337 2.33378 0.333336L15.6671 0.333336C16.4853 0.333336 17.1486 0.996617 17.1486 1.81482V4.4886C17.1486 5.00461 16.8095 5.3809 16.4614 5.54907C16.2007 5.67504 15.6671 6.02304 15.6671 7C15.6671 7.97697 16.2007 8.32497 16.4614 8.45094C16.8095 8.61911 17.1486 8.9954 17.1486 9.5114V12.1852C17.1486 13.0034 16.4853 13.6667 15.6671 13.6667L2.33378 13.6667C1.51558 13.6667 0.852296 13.0034 0.852295 12.1852ZM9.00044 9.22223C9.40954 9.22223 9.74118 8.89059 9.74118 8.48148C9.74118 8.07238 9.40954 7.74074 9.00044 7.74074C8.59134 7.74074 8.2597 8.07238 8.2597 8.48148C8.2597 8.89059 8.59134 9.22223 9.00044 9.22223ZM9.741 5.51825C9.741 5.92735 9.40936 6.25899 9.00026 6.25899C8.59116 6.25899 8.25952 5.92735 8.25952 5.51825C8.25952 5.10915 8.59116 4.77751 9.00026 4.77751C9.40936 4.77751 9.741 5.10915 9.741 5.51825Z"
        fill="#7D472D"
      />
    </svg>,
    title: "tickets",
    desc: "event carousels",
    image: featureFive,
    color: "#7D472D",
    bg: "linear-gradient(156deg, rgba(254, 184, 210, 0.50) 6.42%, rgba(207, 239, 111, 0.50) 101.54%)"
  },
  {
    icon: <svg width="17" height="16" viewBox="0 0 17 16" fill="none">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M7.94417 0.213599C8.29421 0.0399147 8.70533 0.0399147 9.05537 0.213599C9.36417 0.366826 9.52523 0.636075 9.60256 0.774673C9.6862 0.924574 9.77187 1.11685 9.85748 1.30899C9.86159 1.31822 9.86571 1.32746 9.86982 1.33668L11.3674 4.69632L15.0555 5.08559C15.2647 5.10763 15.474 5.12968 15.6424 5.16291C15.7982 5.19362 16.104 5.2636 16.3452 5.50994C16.6185 5.78918 16.7456 6.18017 16.6885 6.56675C16.6382 6.9078 16.4319 7.14418 16.324 7.26055C16.2073 7.38641 16.0509 7.52729 15.8946 7.66808L13.1397 10.1508L13.9092 13.7788C13.9528 13.9846 13.9965 14.1904 14.017 14.3609C14.0359 14.5184 14.0638 14.8309 13.9041 15.1364C13.723 15.4827 13.3904 15.7243 13.0051 15.7896C12.6652 15.8471 12.3766 15.724 12.2326 15.6573C12.0769 15.5852 11.8946 15.48 11.7124 15.3749L8.49977 13.5219L5.28715 15.3749C5.10497 15.48 4.92267 15.5852 4.76691 15.6573C4.62288 15.724 4.33432 15.8471 3.99443 15.7896C3.60916 15.7243 3.27655 15.4827 3.09545 15.1364C2.93568 14.8309 2.96364 14.5184 2.98255 14.3609C3.00299 14.1904 3.0467 13.9845 3.09038 13.7788L3.85987 10.1508L1.12743 7.6884C1.11992 7.68163 1.11241 7.67486 1.1049 7.66809C0.948617 7.5273 0.792232 7.38642 0.675516 7.26055C0.567598 7.14418 0.361298 6.9078 0.310998 6.56675C0.253981 6.18018 0.381025 5.78918 0.654377 5.50994C0.895531 5.2636 1.20137 5.19362 1.35708 5.16291C1.52549 5.12968 1.73481 5.10763 1.944 5.08558C1.95406 5.08452 1.96412 5.08346 1.97417 5.0824L5.63215 4.69632L7.12971 1.33668C7.13383 1.32745 7.13795 1.31821 7.14206 1.30897C7.22767 1.11683 7.31333 0.924569 7.39697 0.774673C7.4743 0.636075 7.63536 0.366826 7.94417 0.213599ZM8.49977 2.35675L7.1153 5.46268C7.11209 5.46988 7.10844 5.47827 7.10433 5.48772C7.06472 5.57887 6.98261 5.76778 6.84367 5.92204C6.72653 6.05209 6.58338 6.15609 6.4235 6.22731C6.23386 6.31178 6.02882 6.33149 5.92989 6.34101C5.91964 6.34199 5.91052 6.34287 5.90269 6.3437L2.52094 6.70062L5.04704 8.97711C5.05289 8.98239 5.05975 8.98845 5.06746 8.99527C5.1419 9.06111 5.2962 9.19759 5.39997 9.3774C5.48746 9.52899 5.54214 9.69727 5.56046 9.87133C5.5822 10.0778 5.53759 10.2789 5.51606 10.3759C5.51383 10.386 5.51185 10.3949 5.51021 10.4026L4.80465 13.7291L7.75033 12.0302C7.75716 12.0262 7.76505 12.0216 7.77392 12.0163C7.85955 11.9659 8.03701 11.8613 8.24009 11.8182C8.4113 11.7818 8.58823 11.7818 8.75944 11.8182C8.96252 11.8613 9.13999 11.9659 9.22561 12.0163C9.23449 12.0216 9.24237 12.0262 9.2492 12.0302L12.1949 13.7291L11.4893 10.4026C11.4877 10.3949 11.4857 10.386 11.4835 10.3759C11.4619 10.2789 11.4173 10.0778 11.4391 9.87133C11.4574 9.69727 11.5121 9.52899 11.5996 9.3774C11.7033 9.19759 11.8576 9.06111 11.9321 8.99527C11.9398 8.98845 11.9466 8.98239 11.9525 8.97711L14.4786 6.70062L11.0968 6.3437C11.089 6.34287 11.0799 6.34199 11.0696 6.34101C10.9707 6.33149 10.7657 6.31178 10.576 6.22731C10.4162 6.15609 10.273 6.05209 10.1559 5.92204C10.0169 5.76778 9.93481 5.57887 9.8952 5.48772C9.89109 5.47827 9.88744 5.46988 9.88424 5.46268L8.49977 2.35675Z"
        fill="#067189"
      />
    </svg>,
    title: "ticketmaster, laylo, shopmy, adobe",
    desc: "integrations",
    image: featureSix,
    color: "#067189",
    bg: "linear-gradient(155deg, rgba(140, 225, 255, 0.50) 7.55%, rgba(255, 224, 145, 0.50) 93.99%)"
  },

]

const fadeInUp = {
  initial: { opacity: 0, y: 20 },
  animate: { opacity: 1, y: 0 },
  exit: { opacity: 0, y: 20 },
};

const Features = () => {
  return (
    <Box
      position="relative"
      maxW="1290px"
      m="0 auto"
      textAlign="center"
      width="100%"
      p={{ base: "0 0 0 20px", md: "0 20px" }}
      mb={{ base: "100px", md: "200px" }}
    >
      <Heading
        as="h2"
        textAlign="center"
        m="0 auto 40px"
        fontSize={{ base: "36px", md: "48px" }}
        lineHeight="124%"
        letterSpacing="-1.5px"
        fontWeight="800"
        maxW="614px"
        color="grays.dark"
        pr="20px"
      >
        powerful features built for creators:
      </Heading>
      <Swiper
        spaceBetween={20}
        modules={[Navigation]}
        pagination={{ clickable: true }}
        navigation={{
          nextEl: ".button-next-swiper",
          prevEl: ".button-prev-swiper",
        }}
        loop={true}
        slidesPerView={1.2}
        breakpoints={{
          768: {
            slidesPerView: 2,
          },
          1024: {
            slidesPerView: 3,
          }
        }}
      >
        {features.map((feature, index) => (
          <SwiperSlide key={feature.title}>
            <InView triggerOnce>
              {({ inView, ref }) => (
                <motion.div
                  ref={ref}
                  animate={inView ? 'animate' : 'initial'}
                  variants={fadeInUp}
                  initial="initial"
                  exit="exit"
                  transition={{ duration: 0.3, delay: index > 2 ? 0.1 : index * 0.3 }}
                >
                  <Box
                    p="30px 0 0 0"
                    borderRadius="34px"
                    overflow="hidden"
                    background={feature.bg}
                  >
                    <Flex
                      mb={3}
                      gap="7px"
                      color={feature.color}
                      alignItems="center"
                      justifyContent="center"
                      display="flex"
                      fontSize="12px"
                      fontWeight="600"
                      lineHeight="16px"
                      letterSpacing="-0.12px"
                    >
                      {feature.icon}
                      {feature.title}
                    </Flex>
                    <Text
                      fontSize={24}
                      lineHeight="124%"
                      letterSpacing="-0.7px"
                      fontWeight="600"
                      color="black.reg"
                      mb="16px"
                    >
                      {feature.desc}
                    </Text>
                    <Image src={feature.image} />
                  </Box>
                </motion.div>
              )}
            </InView>
          </SwiperSlide>
        ))}
      </Swiper>
      <Flex alignItems="center" gap="12px" justifyContent="center" mt={{ base: "20px", md: "40px" }}>
        <Button
          className="button-prev-swiper"
          w="48px"
          h="48px"
          alignItems="center"
          justifyContent="center"
          bg="white"
          borderRadius="40px"
          border="1px solid"
          borderColor="grays.base"
        >
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M13.9224 2.74408C13.597 2.41864 13.0694 2.41864 12.7439 2.74408L6.07725 9.41074C5.75181 9.73618 5.75181 10.2638 6.07725 10.5893L12.7439 17.2559C13.0694 17.5814 13.597 17.5814 13.9224 17.2559C14.2479 16.9305 14.2479 16.4028 13.9224 16.0774L7.84501 10L13.9224 3.92259C14.2479 3.59715 14.2479 3.06951 13.9224 2.74408Z"
              fill="black"
            />
          </svg>
        </Button>
        <Button
          className="button-next-swiper"
          w="48px"
          h="48px"
          alignItems="center"
          justifyContent="center"
          bg="white"
          borderRadius="40px"
          border="1px solid"
          borderColor="grays.base"
        >
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M6.07757 2.74408C6.40301 2.41864 6.93065 2.41864 7.25609 2.74408L13.9228 9.41074C14.2482 9.73618 14.2482 10.2638 13.9228 10.5893L7.25609 17.2559C6.93065 17.5814 6.40301 17.5814 6.07757 17.2559C5.75214 16.9305 5.75214 16.4028 6.07757 16.0774L12.155 10L6.07757 3.92259C5.75214 3.59715 5.75214 3.06951 6.07757 2.74408Z"
              fill="black"
            />
          </svg>
        </Button>
      </Flex>
    </Box >
  );
};

export default Features;
